<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Assetto Corsa Server Manager">
    <meta name="author" content="Joe Stevens">

    <title>Assetto Corsa Server Manager</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
	
		<!-- Custom CSS -->
		<link href="/css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body ng-app="acServerManager" ng-controller="StatusCtrl" ng-cloak>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Assetto Corsa Server Manager</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
						<li class="active"><a href="index.html">Server Status</a></li>
						<li><a href="server.html">Server Configuration</a></li>
						<li><a href="entrylist.html">Entry List</a></li>
						<li><a href="rules.html">Rules</a></li>
						<li><a href="advanced.html">Advanced</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

			<div class="starter-template">
				<h1>Server Status</h1>
			</div>

			<form>
				<fieldset>
					<legend>Assetto Corsa Server</legend>

						<div class="row">
						<div class="col-sm-2">
							<p class="lead" ng-class="acServerStatus ? 'bg-success' : 'bg-danger'">{{acServerStatus === 1 ? 'Running' : acServerStatus === 0 ? 'Stopped' : 'Loading'}}</p>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-default" ng-show="acServerStatus === 0" ng-click="startACServer()">
								<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Start
							</button>
							<button type="button" class="btn btn-default" ng-show="acServerStatus === 1" ng-click="stopACServer()">
								<span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop
							</button>
							<img src="/img/ajax-loader.gif" alt="Loading" ng-show="acServerStatus === -1" />
						</div>
					</div>
				</fieldset>
				
				<fieldset class="top10" ng-hide="sTrackerServerStatus === -2">
					<legend>sTracker Server</legend>
					<div class="row">
						<div class="col-sm-2">
							<p class="lead" ng-class="sTrackerServerStatus ? 'bg-success' : 'bg-danger'">{{sTrackerServerStatus === 1 ? 'Running' : acServerStatus === 0 ? 'Stopped' : 'Loading'}}</p>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-default" ng-show="sTrackerServerStatus === 0 && acServerStatus === 1" ng-click="startSTrackerServer()">
								<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Start
							</button>
							<button type="button" class="btn btn-default" ng-show="sTrackerServerStatus === 1" ng-click="stopSTrackerServer()">
								<span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop
							</button>
							<img src="/img/ajax-loader.gif" alt="Loading" ng-show="sTrackerServerStatus === -1" />
						</div>
					</div>
				</fieldset>

				<fieldset class="top10" ng-show="acServerStatus === 1">
					<legend>Server Status</legend>
					<div class="row">
						<div class="col-sm-12">
							<p>Current Session: {{serverStatus.session}}</p>
						</div>
					</div>
				</fieldset>  
			</form>
    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
		<script src="/js/angular/angular.min.js"></script>
		<script src="/js/angular/angular-resource.min.js"></script>
		<script src="/js/angular/ui-bootstrap-tpls-0.13.0.min.js"></script>
		<script src="/js/angular/show-errors.min.js"></script>
		<script src="/app/app.js"></script>
		<script src="/app/services.js"></script>
		<script src="/app/controllers.js"></script>
  </body>
</html>